# ClipSync 快速启动指南（针对当前环境）

## 当前环境状态

✅ Node.js 22.21.1 已安装
✅ npm 10.9.4 已安装
❌ Docker 无法在当前环境运行（容器限制）
❌ MongoDB 官方源无法访问

## 推荐方案

### 方案 A：使用云 MongoDB（最简单，推荐）

1. 注册免费 MongoDB Atlas 账号
   访问: https://www.mongodb.com/cloud/atlas/register

2. 创建免费集群（M0，512MB）

3. 获取连接字符串，例如：
   ```
   mongodb+srv://username:password@cluster0.xxxxx.mongodb.net/clipboard-sync
   ```

4. 配置环境变量：
   ```bash
   cd /root/weiruan-Shear-board/server
   nano .env
   # 修改 MONGODB_URI 为你的连接字符串
   ```

5. 启动应用：
   ```bash
   # 后端（新终端）
   cd /root/weiruan-Shear-board/server
   npm install
   npm run dev

   # 前端（新终端）
   cd /root/weiruan-Shear-board/client
   npm install
   npm run dev
   ```

### 方案 B：在本地电脑上运行（推荐开发）

由于服务器环境限制，建议在你的本地电脑上运行：

**Windows 用户：**
```bash
# 1. 克隆项目
git clone https://github.com/weiruankeji2025/weiruan-Shear-board.git
cd weiruan-Shear-board

# 2. 一键安装
install.bat

# 3. 启动
start.bat
```

**macOS/Linux 用户：**
```bash
# 1. 克隆项目
git clone https://github.com/weiruankeji2025/weiruan-Shear-board.git
cd weiruan-Shear-board

# 2. 一键安装
chmod +x install.sh
./install.sh

# 3. 启动
./start.sh
```

### 方案 C：手动下载 MongoDB

如果你有其他可用的服务器：

```bash
# 下载 MongoDB
wget https://fastdl.mongodb.org/linux/mongodb-linux-x86_64-ubuntu2404-8.0.4.tgz
tar -zxvf mongodb-linux-x86_64-ubuntu2404-8.0.4.tgz
mv mongodb-linux-x86_64-ubuntu2404-8.0.4 mongodb

# 创建数据目录
mkdir -p /data/db

# 启动 MongoDB
./mongodb/bin/mongod --dbpath /data/db --fork --logpath /data/mongodb.log

# 然后启动 ClipSync
cd /root/weiruan-Shear-board/server
npm install
npm run dev

# 新终端启动前端
cd /root/weiruan-Shear-board/client
npm install
npm run dev
```

## 当前环境说明

你的服务器环境似乎是一个受限容器环境，这导致：
- Docker 无法正常运行（iptables/nft 协议不支持）
- MongoDB 官方源无法访问（403 错误）

## 建议

对于生产环境，我建议：
1. **使用云服务器**：如 AWS EC2、阿里云 ECS、腾讯云等
2. **使用云数据库**：MongoDB Atlas（免费额度足够开发使用）
3. **在本地开发**：使用你的个人电脑进行开发和测试

## 快速测试（无数据库）

如果只是想快速查看前端界面：

```bash
cd /root/weiruan-Shear-board/client
npm install
npm run dev
```

然后访问生成的 URL（通常是 http://localhost:5173）

## 需要帮助？

请告诉我：
1. 你想在哪里运行这个应用？（本地电脑/云服务器）
2. 你是否有 MongoDB Atlas 账号？
3. 或者你是否有其他可用的服务器？

我可以根据你的情况提供更具体的指导。
