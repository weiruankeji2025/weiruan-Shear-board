# ğŸš€ ClipSync ä¸€é”®éƒ¨ç½²æŒ‡å—

## å…è´¹éƒ¨ç½²å¹³å°å¯¹æ¯”

| å¹³å° | å‰ç«¯ | åç«¯ | æ•°æ®åº“ | éš¾åº¦ | æ¨èåº¦ |
|------|------|------|--------|------|--------|
| **Vercel + Railway** | âœ… | âœ… | âœ… | â­â­ | â­â­â­â­â­ |
| **Render** | âœ… | âœ… | éœ€ Atlas | â­ | â­â­â­â­ |
| **Netlify + Railway** | âœ… | âœ… | âœ… | â­â­ | â­â­â­â­ |

---

## ğŸ¯ æ¨èæ–¹æ¡ˆï¼šVercel + Railway + MongoDB Atlas

**å®Œå…¨å…è´¹ï¼Œè‡ªåŠ¨éƒ¨ç½²ï¼Œæ€§èƒ½æœ€ä½³**

### æ€»ä½“æµç¨‹

```
GitHub ä»“åº“
    â†“
1. å‰ç«¯ â†’ Vercelï¼ˆè‡ªåŠ¨éƒ¨ç½²ï¼‰
2. åç«¯ â†’ Railwayï¼ˆè‡ªåŠ¨éƒ¨ç½²ï¼‰
3. æ•°æ®åº“ â†’ MongoDB Atlasï¼ˆå…è´¹é›†ç¾¤ï¼‰
```

---

## ğŸ“¦ æ–¹æ¡ˆä¸€ï¼šVercel + Railwayï¼ˆæœ€æ¨èï¼‰

### ç¬¬ 1 æ­¥ï¼šéƒ¨ç½²åç«¯åˆ° Railway

1. **è®¿é—® Railway**
   - https://railway.app
   - ç”¨ GitHub è´¦å·ç™»å½•

2. **æ–°å»ºé¡¹ç›®**
   - "New Project" â†’ "Deploy from GitHub repo"
   - é€‰æ‹© `weiruan-Shear-board` ä»“åº“

3. **é…ç½®åç«¯æœåŠ¡**
   - Root Directory: `server`
   - ç‚¹å‡»æœåŠ¡ â†’ Settings
   - æ·»åŠ ç¯å¢ƒå˜é‡ï¼š
     ```
     NODE_ENV=production
     MONGODB_URI=ä½ çš„MongoDB Atlasè¿æ¥å­—ç¬¦ä¸²
     JWT_SECRET=éšæœºç”Ÿæˆ32ä½å­—ç¬¦ä¸²
     FRONTEND_URL=https://ä½ çš„åº”ç”¨.vercel.app
     ```

4. **æ·»åŠ  MongoDB**
   - "New" â†’ "Database" â†’ "MongoDB"
   - æˆ–ä½¿ç”¨ MongoDB Atlas

5. **è·å–åç«¯ URL**
   - éƒ¨ç½²å®Œæˆåï¼Œå¤åˆ¶ Railway æä¾›çš„ URL
   - ä¾‹å¦‚ï¼š`https://clipsync-server.railway.app`

---

### ç¬¬ 2 æ­¥ï¼šéƒ¨ç½²å‰ç«¯åˆ° Vercel

1. **è®¿é—® Vercel**
   - https://vercel.com
   - ç”¨ GitHub è´¦å·ç™»å½•

2. **å¯¼å…¥é¡¹ç›®**
   - "Add New" â†’ "Project"
   - "Import Git Repository"
   - é€‰æ‹© `weiruan-Shear-board`

3. **é…ç½®é¡¹ç›®**
   ```
   Framework Preset: Vite
   Root Directory: client
   Build Command: npm run build
   Output Directory: dist
   ```

4. **ç¯å¢ƒå˜é‡**
   ```
   VITE_API_URL=https://ä½ çš„railwayåç«¯åœ°å€.railway.app/api
   VITE_SOCKET_URL=https://ä½ çš„railwayåç«¯åœ°å€.railway.app
   ```

5. **éƒ¨ç½²**
   - ç‚¹å‡» "Deploy"
   - ç­‰å¾…æ„å»ºå®Œæˆ

---

### ç¬¬ 3 æ­¥ï¼šé…ç½® MongoDB Atlas

1. **æ³¨å†Œå¹¶åˆ›å»ºé›†ç¾¤**
   - https://www.mongodb.com/cloud/atlas/register
   - åˆ›å»ºå…è´¹ M0 é›†ç¾¤ï¼ˆ512MBï¼Œæ°¸ä¹…å…è´¹ï¼‰
   - é€‰æ‹©ç¦»ä½ æœ€è¿‘çš„åŒºåŸŸ

2. **åˆ›å»ºæ•°æ®åº“ç”¨æˆ·**
   - Database Access â†’ Add New User
   - ç”¨æˆ·åã€å¯†ç ï¼ˆè®°ä½å®ƒä»¬ï¼‰

3. **é…ç½® IP ç™½åå•**
   - Network Access â†’ Add IP Address
   - é€‰æ‹© "Allow Access from Anywhere" (0.0.0.0/0)

4. **è·å–è¿æ¥å­—ç¬¦ä¸²**
   - Clusters â†’ Connect â†’ "Connect your application"
   - å¤åˆ¶è¿æ¥å­—ç¬¦ä¸²
   - æ›¿æ¢ `<password>` ä¸ºå®é™…å¯†ç 
   - æ·»åŠ æ•°æ®åº“åï¼š`/clipboard-sync`

5. **æ›´æ–° Railway ç¯å¢ƒå˜é‡**
   - åœ¨ Railway é¡¹ç›®ä¸­è®¾ç½® `MONGODB_URI`

---

### ç¬¬ 4 æ­¥ï¼šå®Œæˆé…ç½®

1. **æ›´æ–° Vercel å‰ç«¯ç¯å¢ƒå˜é‡**
   - å°† Railway åç«¯ URL å¡«å…¥ Vercel ç¯å¢ƒå˜é‡

2. **æ›´æ–° Railway åç«¯ç¯å¢ƒå˜é‡**
   - å°† Vercel å‰ç«¯ URL å¡«å…¥ `FRONTEND_URL`

3. **é‡æ–°éƒ¨ç½²**
   - Vercel å’Œ Railway ä¼šè‡ªåŠ¨æ£€æµ‹æ›´æ”¹å¹¶é‡æ–°éƒ¨ç½²

---

## âœ… éƒ¨ç½²å®Œæˆ

è®¿é—®ä½ çš„åº”ç”¨ï¼š
- **å‰ç«¯**: `https://ä½ çš„åº”ç”¨.vercel.app`
- **åç«¯**: `https://ä½ çš„åº”ç”¨.railway.app`

---

## ğŸ”„ è‡ªåŠ¨éƒ¨ç½²

é…ç½®å®Œæˆåï¼Œæ¯æ¬¡æ¨é€åˆ° GitHubï¼š
1. Vercel è‡ªåŠ¨æ„å»ºå’Œéƒ¨ç½²å‰ç«¯
2. Railway è‡ªåŠ¨æ„å»ºå’Œéƒ¨ç½²åç«¯

---

## ğŸ“¦ æ–¹æ¡ˆäºŒï¼šå®Œå…¨ä½¿ç”¨ Renderï¼ˆä¸€é”®éƒ¨ç½²ï¼‰

**æœ€ç®€å•ï¼Œä½†æœåŠ¡ä¼šä¼‘çœ **

### ä¸€é”®éƒ¨ç½²

1. ç‚¹å‡»ä¸‹é¢çš„æŒ‰é’®ï¼š

   [![Deploy to Render](https://render.com/images/deploy-to-render-button.svg)](https://render.com/deploy?repo=https://github.com/weiruankeji2025/weiruan-Shear-board)

2. è®¾ç½®ç¯å¢ƒå˜é‡ï¼š
   - `MONGODB_URI`: MongoDB Atlas è¿æ¥å­—ç¬¦ä¸²
   - `JWT_SECRET`: éšæœºå­—ç¬¦ä¸²

3. ç­‰å¾…éƒ¨ç½²å®Œæˆ

**æ³¨æ„**: Render å…è´¹ç‰ˆæœåŠ¡ä¸æ´»è·ƒæ—¶ä¼šä¼‘çœ ï¼Œé¦–æ¬¡è®¿é—®éœ€ 30 ç§’å”¤é†’ã€‚

è¯¦ç»†è¯´æ˜ï¼šæŸ¥çœ‹ [RENDER_DEPLOY.md](RENDER_DEPLOY.md)

---

## ğŸ› ï¸ æ–¹æ¡ˆä¸‰ï¼šä½¿ç”¨ Netlifyï¼ˆæ›¿ä»£ Vercelï¼‰

### å‰ç«¯éƒ¨ç½²åˆ° Netlify

1. **è®¿é—® Netlify**
   - https://netlify.com
   - GitHub ç™»å½•

2. **å¯¼å…¥é¡¹ç›®**
   - "Add new site" â†’ "Import an existing project"
   - é€‰æ‹© GitHub ä»“åº“

3. **é…ç½®**
   ```
   Base directory: client
   Build command: npm run build
   Publish directory: client/dist
   ```

4. **ç¯å¢ƒå˜é‡**
   ```
   VITE_API_URL=ä½ çš„åç«¯åœ°å€/api
   VITE_SOCKET_URL=ä½ çš„åç«¯åœ°å€
   ```

åç«¯ä»ä½¿ç”¨ Railway æˆ– Renderã€‚

---

## ğŸ” ç”Ÿæˆ JWT å¯†é’¥

```bash
# macOS/Linux
openssl rand -base64 32

# æˆ–ä½¿ç”¨åœ¨çº¿å·¥å…·
# https://generate-secret.vercel.app/32
```

---

## ğŸ“Š å…è´¹é¢åº¦å¯¹æ¯”

| æœåŠ¡ | å…è´¹é¢åº¦ | é™åˆ¶ |
|------|----------|------|
| **Vercel** | æ— é™æ¬¡éƒ¨ç½² | 100GB å¸¦å®½/æœˆ |
| **Railway** | $5/æœˆ | çº¦ 500 å°æ—¶è¿è¡Œæ—¶é—´ |
| **Render** | 750 å°æ—¶/æœˆ | æœåŠ¡ä¼‘çœ  |
| **Netlify** | 100GB å¸¦å®½/æœˆ | 300 åˆ†é’Ÿæ„å»ºæ—¶é—´ |
| **MongoDB Atlas** | 512MB å­˜å‚¨ | æ°¸ä¹…å…è´¹ |

---

## ğŸ†˜ å¸¸è§é—®é¢˜

### Q1: Railway åç«¯æ— æ³•è¿æ¥ï¼Ÿ
**A**: æ£€æŸ¥ Railway ç¯å¢ƒå˜é‡ä¸­ `FRONTEND_URL` æ˜¯å¦æ­£ç¡®è®¾ç½®ã€‚

### Q2: Vercel å‰ç«¯æŠ¥ CORS é”™è¯¯ï¼Ÿ
**A**: ç¡®ä¿åç«¯çš„ `FRONTEND_URL` ç¯å¢ƒå˜é‡åŒ…å« Vercel åŸŸåã€‚

### Q3: MongoDB è¿æ¥å¤±è´¥ï¼Ÿ
**A**:
1. æ£€æŸ¥è¿æ¥å­—ç¬¦ä¸²æ ¼å¼
2. ç¡®ä¿ IP ç™½åå•åŒ…å« `0.0.0.0/0`
3. ç¡®ä¿æ•°æ®åº“ç”¨æˆ·æƒé™æ­£ç¡®

### Q4: WebSocket è¿æ¥å¤±è´¥ï¼Ÿ
**A**: ç¡®ä¿ `VITE_SOCKET_URL` ä½¿ç”¨ `https://`ï¼ˆä¸æ˜¯ `http://`ï¼‰

---

## ğŸ“š è¯¦ç»†æ–‡æ¡£

- [Vercel éƒ¨ç½²](VERCEL_DEPLOY.md)
- [Railway éƒ¨ç½²](RAILWAY_DEPLOY.md)
- [Render éƒ¨ç½²](RENDER_DEPLOY.md)

---

## ğŸ‰ å¼€å§‹éƒ¨ç½²

é€‰æ‹©ä½ å–œæ¬¢çš„æ–¹æ¡ˆï¼ŒæŒ‰ç…§æ­¥éª¤æ“ä½œå³å¯ï¼

æ¨èæ–°æ‰‹ä½¿ç”¨ **Vercel + Railway**ï¼Œé…ç½®ç®€å•ï¼Œæ€§èƒ½ç¨³å®šã€‚
